@using ServiceLayer.ServiceModels
@model ProductRequestModel

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">

            <!-- Card wrapper -->
            <div class="card shadow p-4" style="border-radius:10px; background:#fff;">

                <h3 class="text-center mb-4">Add Product</h3>

                <form asp-action="AddProduct" asp-controller="Product" method="post">

                    <div class="mb-3">
                        <label class="form-label">Product Name</label>
                        <input asp-for="ProductName" class="form-control" />
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Description</label>
                        <input asp-for="Description" class="form-control" />
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Price</label>
                        <input asp-for="Price" class="form-control" />
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Stock Quantity</label>
                        <input asp-for="StockQuantity" type="number" class="form-control" />
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Image</label>
                        <input type="file" id="imageInput" accept="image/*" class="form-control" required />
                        <input type="hidden" name="ProductImage" id="base64Image" />
                    </div>

                    <button type="submit" class="btn btn-primary w-100">Add Product</button>

                </form>

            </div>

        </div>
    </div>
</div>

<script>
    $('#imageInput').on('change',function(){
    var file = this.files[0];
           var reader = new FileReader();
           reader.onload = function () {
               $("#base64Image").val(reader.result);
           };
           reader.readAsDataURL(file);
    });
    // document.getElementById("imageInput").addEventListener("change", function () {
    //     var file = this.files[0];
    //     var reader = new FileReader();
    //     reader.onload = function () {
    //         document.getElementById("base64Image").value = reader.result;
    //     };
    //     reader.readAsDataURL(file);
    // });
</script>
